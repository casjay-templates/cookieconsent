<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Migration Guide - Extended Cookie Consent</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <style>
        .migration-card {
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .before-after {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        .before {
            border-left: 4px solid #dc3545;
            background: #f8d7da;
            padding: 15px;
            border-radius: 0 4px 4px 0;
        }
        .after {
            border-left: 4px solid #28a745;
            background: #d4edda;
            padding: 15px;
            border-radius: 0 4px 4px 0;
        }
        .compatibility-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
            margin: 2px;
        }
        .compatible {
            background: #d4edda;
            color: #155724;
        }
        .enhanced {
            background: #cce5ff;
            color: #004085;
        }
        .new {
            background: #fff3cd;
            color: #856404;
        }
        @media (max-width: 768px) {
            .before-after {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="index.html">Extended Cookie Consent</a>
            <div class="navbar-nav ms-auto">
                <a class="nav-link" href="index.html">Home</a>
                <a class="nav-link" href="api.html">API Reference</a>
                <a class="nav-link" href="quick-start.html">Quick Start</a>
                <a class="nav-link" href="../examples/">Examples</a>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <h1>üîÑ Migration Guide</h1>
        <p class="lead">Migrate from the original osano/cookieconsent to Extended Cookie Consent with ease.</p>

        <!-- Compatibility Overview -->
        <div class="migration-card">
            <h2>üõ°Ô∏è Compatibility Overview</h2>
            <p>Extended Cookie Consent is designed to be <strong>fully backward compatible</strong> with the original osano/cookieconsent while adding powerful new features.</p>
            
            <div class="row">
                <div class="col-md-4">
                    <span class="compatibility-badge compatible">‚úÖ Fully Compatible</span>
                    <ul class="mt-2">
                        <li>Original API methods</li>
                        <li>Configuration options</li>
                        <li>Event system</li>
                        <li>CSS classes</li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <span class="compatibility-badge enhanced">üöÄ Enhanced</span>
                    <ul class="mt-2">
                        <li>21 new themes</li>
                        <li>10 position options</li>
                        <li>Granular controls</li>
                        <li>Better accessibility</li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <span class="compatibility-badge new">‚≠ê New Features</span>
                    <ul class="mt-2">
                        <li>Theme API</li>
                        <li>Audit trail</li>
                        <li>Analytics integration</li>
                        <li>Advanced callbacks</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Quick Migration -->
        <div class="migration-card">
            <h2>‚ö° Quick Migration (5 minutes)</h2>
            <p>For most users, migration is as simple as changing the CDN links:</p>
            
            <div class="before-after">
                <div class="before">
                    <h4>‚ùå Before (Original)</h4>
                    <pre><code class="language-html">&lt;link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"&gt;
&lt;script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js"&gt;&lt;/script&gt;</code></pre>
                </div>
                <div class="after">
                    <h4>‚úÖ After (Extended)</h4>
                    <pre><code class="language-html">&lt;link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/casjay-templates/cookieconsent@main/dist/cookieconsent-combined.min.css"&gt;
&lt;script src="https://cdn.jsdelivr.net/gh/casjay-templates/cookieconsent@main/dist/cookieconsent-combined.min.js"&gt;&lt;/script&gt;</code></pre>
                </div>
            </div>
            
            <div class="alert alert-info">
                <strong>üí° Note:</strong> The <code>cookieconsent-combined</code> files include both the original library and Extended features for maximum compatibility.
            </div>
        </div>

        <!-- Step by Step Migration -->
        <div class="migration-card">
            <h2>üìã Step-by-Step Migration</h2>
            
            <h3>Step 1: Update Dependencies</h3>
            <p>Replace your existing cookieconsent CDN links or downloaded files:</p>
            
            <div class="before-after">
                <div class="before">
                    <h5>Old Dependencies</h5>
                    <pre><code class="language-html">&lt;!-- Remove these --&gt;
&lt;link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"&gt;
&lt;script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js"&gt;&lt;/script&gt;</code></pre>
                </div>
                <div class="after">
                    <h5>New Dependencies</h5>
                    <pre><code class="language-html">&lt;!-- Add these --&gt;
&lt;link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/casjay-templates/cookieconsent@main/dist/cookieconsent-combined.min.css"&gt;
&lt;script src="https://cdn.jsdelivr.net/gh/casjay-templates/cookieconsent@main/dist/cookieconsent-combined.min.js"&gt;&lt;/script&gt;</code></pre>
                </div>
            </div>

            <h3>Step 2: Test Existing Configuration</h3>
            <p>Your existing configuration should work without changes:</p>
            
            <pre><code class="language-javascript">// This will still work exactly as before
window.cookieconsent.initialise({
  palette: {
    popup: {
      background: "#252e39"
    },
    button: {
      background: "#14a7d0"
    }
  },
  content: {
    message: "This website uses cookies to ensure you get the best experience.",
    dismiss: "Got it!",
    link: "Learn more"
  }
});</code></pre>

            <h3>Step 3: Optional - Use Extended Features</h3>
            <p>Gradually adopt new features by switching to the extended API:</p>
            
            <div class="before-after">
                <div class="before">
                    <h5>Original API</h5>
                    <pre><code class="language-javascript">window.cookieconsent.initialise({
  palette: {
    popup: { background: "#252e39" },
    button: { background: "#14a7d0" }
  },
  content: {
    message: "We use cookies.",
    dismiss: "Got it!"
  }
});</code></pre>
                </div>
                <div class="after">
                    <h5>Extended API</h5>
                    <pre><code class="language-javascript">cookieconsent.extended.init({
  ui: {
    theme: 'github-dark',
    position: 'bottom-right'
  },
  content: {
    header: 'We use cookies',
    message: 'We use cookies.',
    acceptAll: 'Got it!'
  }
});</code></pre>
                </div>
            </div>
        </div>

        <!-- Configuration Mapping -->
        <div class="migration-card">
            <h2>üó∫Ô∏è Configuration Mapping</h2>
            <p>Here's how original configuration options map to Extended Cookie Consent:</p>
            
            <table class="table">
                <thead>
                    <tr>
                        <th>Original cookieconsent</th>
                        <th>Extended Cookie Consent</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>palette.popup.background</code></td>
                        <td><code>ui.theme</code> or CSS variables</td>
                        <td><span class="compatibility-badge enhanced">Enhanced</span></td>
                    </tr>
                    <tr>
                        <td><code>palette.button.background</code></td>
                        <td><code>ui.theme</code> or CSS variables</td>
                        <td><span class="compatibility-badge enhanced">Enhanced</span></td>
                    </tr>
                    <tr>
                        <td><code>position</code></td>
                        <td><code>ui.position</code></td>
                        <td><span class="compatibility-badge enhanced">Enhanced</span></td>
                    </tr>
                    <tr>
                        <td><code>content.message</code></td>
                        <td><code>content.message</code></td>
                        <td><span class="compatibility-badge compatible">Compatible</span></td>
                    </tr>
                    <tr>
                        <td><code>content.dismiss</code></td>
                        <td><code>content.acceptAll</code></td>
                        <td><span class="compatibility-badge compatible">Compatible</span></td>
                    </tr>
                    <tr>
                        <td><code>onStatusChange</code></td>
                        <td><code>callbacks.onAcceptAll</code></td>
                        <td><span class="compatibility-badge enhanced">Enhanced</span></td>
                    </tr>
                    <tr>
                        <td><code>type</code></td>
                        <td><code>ui.showPreferences</code></td>
                        <td><span class="compatibility-badge enhanced">Enhanced</span></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Advanced Migration -->
        <div class="migration-card">
            <h2>üîß Advanced Migration Scenarios</h2>
            
            <h3>Scenario 1: Custom Styling</h3>
            <p>If you have custom CSS, update your selectors:</p>
            
            <div class="before-after">
                <div class="before">
                    <h5>Original CSS</h5>
                    <pre><code class="language-css">.cc-window {
  background: #000;
  color: #fff;
}

.cc-btn {
  background: #f1d600;
}</code></pre>
                </div>
                <div class="after">
                    <h5>Extended CSS</h5>
                    <pre><code class="language-css">/* Original selectors still work */
.cc-window {
  background: #000;
  color: #fff;
}

/* OR use new CSS variables */
.cc-popup-extended {
  --cc-background: #000;
  --cc-text-primary: #fff;
  --cc-primary-color: #f1d600;
}</code></pre>
                </div>
            </div>

            <h3>Scenario 2: Custom JavaScript Integration</h3>
            <p>Update your JavaScript event handling:</p>
            
            <div class="before-after">
                <div class="before">
                    <h5>Original Events</h5>
                    <pre><code class="language-javascript">window.cookieconsent.initialise({
  onStatusChange: function(status) {
    if (status === 'allow') {
      // Enable tracking
      gtag('config', 'GA_ID');
    }
  }
});</code></pre>
                </div>
                <div class="after">
                    <h5>Extended Events</h5>
                    <pre><code class="language-javascript">// Both approaches work:

// 1. Using callbacks
cookieconsent.extended.init({
  callbacks: {
    onAcceptAll: function(categories) {
      gtag('config', 'GA_ID');
    }
  }
});

// 2. Using events
window.addEventListener('cookieConsentChange', function(e) {
  if (e.detail.categories.analytics) {
    gtag('config', 'GA_ID');
  }
});</code></pre>
                </div>
            </div>

            <h3>Scenario 3: Multiple Domains</h3>
            <p>Extended Cookie Consent maintains the same domain handling:</p>
            
            <pre><code class="language-javascript">// Works the same way
cookieconsent.extended.init({
  cookie: {
    domain: '.example.com'  // Share across subdomains
  }
});</code></pre>
        </div>

        <!-- Troubleshooting -->
        <div class="migration-card">
            <h2>üîç Migration Troubleshooting</h2>
            
            <h3>Common Issues</h3>
            
            <div class="alert alert-warning">
                <h5>‚ö†Ô∏è Issue: Custom CSS not working</h5>
                <p><strong>Solution:</strong> Extended Cookie Consent uses different HTML structure. Update your CSS selectors or use the new CSS variables system.</p>
            </div>
            
            <div class="alert alert-warning">
                <h5>‚ö†Ô∏è Issue: JavaScript errors after migration</h5>
                <p><strong>Solution:</strong> Check browser console for specific errors. Ensure you're using the <code>cookieconsent-combined</code> files for maximum compatibility.</p>
            </div>
            
            <div class="alert alert-warning">
                <h5>‚ö†Ô∏è Issue: Popup not showing</h5>
                <p><strong>Solution:</strong> Clear localStorage and cookies, then test. Extended Cookie Consent respects existing consent choices.</p>
            </div>

            <h3>Testing Your Migration</h3>
            <ol>
                <li><strong>Clear browser data:</strong> Remove all cookies and localStorage</li>
                <li><strong>Test basic functionality:</strong> Verify the popup appears</li>
                <li><strong>Test consent choices:</strong> Try accepting/rejecting cookies</li>
                <li><strong>Test persistence:</strong> Refresh page and verify choices are remembered</li>
                <li><strong>Test analytics:</strong> Verify tracking scripts load based on consent</li>
            </ol>
        </div>

        <!-- Migration Checklist -->
        <div class="migration-card">
            <h2>‚úÖ Migration Checklist</h2>
            
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="check1">
                <label class="form-check-label" for="check1">
                    Updated CDN links or local files
                </label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="check2">
                <label class="form-check-label" for="check2">
                    Tested existing configuration works
                </label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="check3">
                <label class="form-check-label" for="check3">
                    Updated custom CSS if needed
                </label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="check4">
                <label class="form-check-label" for="check4">
                    Updated JavaScript event handling
                </label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="check5">
                <label class="form-check-label" for="check5">
                    Tested on mobile devices
                </label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="check6">
                <label class="form-check-label" for="check6">
                    Verified analytics integration
                </label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="check7">
                <label class="form-check-label" for="check7">
                    Tested across different browsers
                </label>
            </div>
        </div>

        <!-- Benefits After Migration -->
        <div class="migration-card">
            <h2>üéâ Benefits After Migration</h2>
            
            <div class="row">
                <div class="col-md-6">
                    <h4>üé® Visual Improvements</h4>
                    <ul>
                        <li>21 professional themes</li>
                        <li>Better mobile experience</li>
                        <li>Smooth animations</li>
                        <li>Modern design patterns</li>
                    </ul>
                </div>
                <div class="col-md-6">
                    <h4>‚ö° Functional Enhancements</h4>
                    <ul>
                        <li>Granular cookie controls</li>
                        <li>Better analytics integration</li>
                        <li>Audit trail for compliance</li>
                        <li>Enhanced accessibility</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Next Steps -->
        <div class="text-center mt-5 mb-4">
            <h3>üöÄ Next Steps</h3>
            <p>Your migration is complete! Now explore the new features:</p>
            <a href="../examples/themes.html" class="btn btn-primary">Explore Themes</a>
            <a href="api.html" class="btn btn-outline-primary">API Reference</a>
            <a href="../examples/" class="btn btn-outline-secondary">View Examples</a>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-css.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-markup.min.js"></script>
</body>
</html>